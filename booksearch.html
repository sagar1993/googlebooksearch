<html>
<head>
	<script type="text/javascript" src="jquery-1.11.0.min.js"></script>
	<link href="bootstrap.min.css" rel="stylesheet">
	<!-- css for search box -->
	<style type="text/css">
		.content{
			width:900px;
			margin:0 auto;
		}
		#searchid
		{
			width:500px;
			border:solid 1px #000;			
			padding:10px;
			font-size:14px;
		}
		#result
		{
			position:absolute;
			margin-top:3px;
			width:500px;
			display:none;
			margin-top:-1px;
			border-top:0px;
			overflow:hidden;
			border:1px #CCC solid;
			background-color: white;
		}
		.show
		{
			font-size:15px; 
			height:40px;
		}
		.show:hover
		{
			background:#330033 ;
			color:#FFF;
			cursor:pointer;
		}
	</style>

	

	<script>
	$(document).ready(function(){

		$(function(){
			// search box on key press
			$(".search").keyup(function() { 
				var searchid = $(this).val();
				if(searchid != ""){
					$.get( "https://www.googleapis.com/books/v1/volumes?q="+searchid + "&maxResults=5", function(data) {
						$("#result").html("");			
						for (i = 0; i < 5; i++) { 
							$("#result").append("<div class=\"show container\" align=\"left\"><img src="+data.items[i].volumeInfo.imageLinks.smallThumbnail+" height = \"30\" width=\"30\"><span class=\"name\"> "+ data.items[i].volumeInfo.title + "<span></div>");
						}					
						
					});
				}	
			});
			$("#result").live("click",function(e){ 
				var clicked = $(e.target);
				console.log(clicked);
				var name = clicked.find('.name').html();
				console.log(name);	
				var decoded = $("<div/>").html(name).text();
				$('#searchid').val(decoded);
			});
			$(document).live("click", function(e) { 
				var $clicked = $(e.target);
				if (! $clicked.hasClass("search")){
					$("#result").fadeOut(); 
				}
			});
			$('#searchid').click(function(){
				jQuery("#result").fadeIn();
			});
		});
	});
	</script>
</head>

<body>

<input type="text" class="search form-control" id="searchid" placeholder="Search for book" />
<div id="result">
</div>



</body>


</html>
